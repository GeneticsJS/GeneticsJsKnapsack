(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{293:function(e,t,a){e.exports=a.p+"static/media/logo-letters.18a5ff38.png"},306:function(e,t,a){e.exports=a(601)},311:function(e,t,a){},312:function(e,t,a){},441:function(e,t,a){},457:function(e,t){},459:function(e,t){},470:function(e,t){},472:function(e,t){},499:function(e,t){},501:function(e,t){},502:function(e,t){},507:function(e,t){},509:function(e,t){},528:function(e,t){},540:function(e,t){},543:function(e,t){},600:function(e,t,a){},601:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(11),s=a.n(r),l=(a(311),a(37)),o=a(38),c=a(123),m=a(122),u=a(294),d=a(646),p=a(603),g=a(125),h=a(631),v=a(4),f=(a(312),a(16)),b=f.object().shape({capacity:f.number().min(0,"capacity must be positive")}),E={capacity:20},y={min:1,max:10},I={value:0,weight:0},P=f.object().shape({weight:f.number().min(0,"weight must be positive").default(0),value:f.number().min(0,"value must be positive").default(0)}),x=function(){return[{value:12,weight:4},{value:10,weight:6},{value:8,weight:5},{value:11,weight:7},{value:14,weight:3},{value:7,weight:1},{value:9,weight:6}]},k=5,C=25,w={populationSize:25,crossoverType:"onePoint",selectionType:"rouletteWheel",resamplingType:"fitnessBased",crossoverParams:{numberOfCrossoverPoints:1,selectionThreshold:.5},mutation:{mutationRate:.5},numberOfGenerations:50},S=a(637),N=(a(441),a(635)),D=a(289),j=a.n(D),O=function(e){return i.a.createElement(N.a,{className:"".concat(e.classes.card," ").concat(e.selected?e.classes.selected:"")},i.a.createElement("div",null,i.a.createElement(g.a,{className:e.classes.item,variant:"overline"},"weight: ".concat(e.item.weight.toFixed(2))),i.a.createElement(g.a,{variant:"overline"},"value: ".concat(e.item.value.toFixed(2)))),e.onDeleteItem&&function(e){if(void 0!==e.onDeleteItem)return i.a.createElement(h.a,{onClick:function(){e.onDeleteItem&&e.onDeleteItem(e.index)},disabled:e.deleteDisabled,size:"small",color:"secondary"},i.a.createElement(j.a,null))}(e))};O.defaultProps={deleteDisabled:!1,selected:!1};var T=Object(v.a)(function(e){return{selected:{background:"".concat(e.palette.primary.dark," !important"),color:e.palette.getContrastText(e.palette.primary.dark)},card:{background:e.palette.primary.light,display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1),margin:e.spacing(1)},item:{marginRight:5}}})(O),F=function(e){return i.a.createElement("div",{className:"knapsack-items-container"},e.items.map(function(t,a){return i.a.createElement(T,{index:a,key:a,item:t,selected:!!e.individual&&e.individual.get(a),deleteDisabled:e.deleteDisabled,onDeleteItem:e.onDeleteItem})}))},W=a(12),A=a(22),B=function(e){return i.a.createElement(W.c,{initialValues:I,onSubmit:function(t,a){(0,a.setSubmitting)(!1),e.onSubmit(t)},validationSchema:P,render:function(){return i.a.createElement(W.b,{className:e.classes.form},i.a.createElement(W.a,{className:e.classes.field,name:"weight",label:"weight",type:"number",component:A.b,disabled:e.addDisabled,variant:"outlined"}),i.a.createElement(W.a,{className:e.classes.field,name:"value",label:"value",type:"number",component:A.b,disabled:e.addDisabled,variant:"outlined"}),i.a.createElement(h.a,{type:"submit",color:"primary",variant:"extended",disabled:e.addDisabled},"Add Item"))}})};B.defaultProps={addDisabled:!1};var R=Object(v.a)(function(e){return{form:{display:"flex",alignItems:"center"},field:{margin:e.spacing(1)}}})(B),G=Object(v.a)(function(e){return{form:{display:"flex",alignItems:"center"},field:{margin:e.spacing(1)}}})(function(e){return i.a.createElement(W.c,{initialValues:E,validationSchema:b,onSubmit:function(t,a){(0,a.setSubmitting)(!1),e.onSubmit(t)},render:function(){return i.a.createElement(W.b,{className:e.classes.form},i.a.createElement(W.a,{className:e.classes.field,name:"capacity",label:"capacity",variant:"outlined",type:"number",component:A.b}),i.a.createElement(h.a,{type:"submit",color:"primary",variant:"extended"},"Set capacity"))}})}),z=function(e){return i.a.createElement(p.a,null,i.a.createElement("div",{className:e.classes.title},i.a.createElement(g.a,{color:"primary",variant:"h5"},"Knapsack Values")),i.a.createElement(S.a,null),i.a.createElement(F,{items:e.items,onDeleteItem:e.onDeleteItem,deleteDisabled:e.deleteDisabled}),i.a.createElement(S.a,null),i.a.createElement("div",{className:e.classes.formContainer},i.a.createElement(R,{onSubmit:e.onAddItem,addDisabled:e.addDisabled}),i.a.createElement(G,{params:e.knapsackParams,onSubmit:e.onKnapsackParamsChange})))};z.defaultProps={deleteDisabled:!1,addDisabled:!1};var K=Object(v.a)(function(e){return{title:{padding:e.spacing(2)},formContainer:{margin:e.spacing(1),display:"flex",justifyContent:"space-between"}}})(z),M=a(649),V=a(648),U=Object(v.a)(function(e){return Object(M.a)({title:{padding:e.spacing(2)},formContainer:{maxWidth:400,margin:"auto",padding:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},formItem:{margin:e.spacing(1)}})})(function(e){return i.a.createElement(p.a,null,i.a.createElement("div",{className:e.classes.title},i.a.createElement(g.a,{color:"primary",variant:"h5"},"Algorithm parameters")),i.a.createElement(S.a,null),i.a.createElement(W.c,{validationSchema:(t=e.numberOfItems,f.object().shape({populationSize:f.number().integer().min(k,"population size must be at least ".concat(k)).max(C,"population size must lower than ".concat(C)),crossoverType:f.string().matches(/onePoint|nPoints|uniform/,"invalid crossover type"),selectionType:f.string().matches(/rouletteWheel|stochastic/,"invalid selection type"),resamplingType:f.string().matches(/ageBased|fitnessBased/,"invalid resampling type"),crossoverParams:f.object({numberOfCrossoverPoints:f.number().min(1,"at least one crossover point is needed").max(t,"too many crossover points"),selectonThreshold:f.number().min(0,"must be greater than zero").max(1,"must be lower than one")}),mutation:f.object().shape({mutationRate:f.number().min(0,"must be greater than zero").max(1,"must be lower than one")}),numberOfGenerations:f.number().integer().min(0,"invalid number of generations")})),initialValues:e.algorithmParams,onSubmit:function(t,a){(0,a.setSubmitting)(!1),e.onSubmit(t)},render:function(t){var a=t.values;return i.a.createElement(W.b,{className:e.classes.formContainer},i.a.createElement(W.a,{className:e.classes.formItem,name:"populationSize",label:"Population size",variant:"outlined",type:"number",fullWidth:!0,component:A.b}),i.a.createElement(W.a,{className:e.classes.formItem,variant:"outlined",name:"crossoverType",component:A.a,fullWidth:!0,input:i.a.createElement(V.a,{name:"Select crossover method",labelWidth:300}),native:!0},i.a.createElement("option",{value:"nPoints"},"N points crossover"),i.a.createElement("option",{value:"onePoint"},"One point crossover"),i.a.createElement("option",{value:"uniform"},"Uniform crossover")),"nPoints"===a.crossoverType&&i.a.createElement(W.a,{className:e.classes.formItem,name:"crossoverParams.numberOfCrossoverPoints",label:"Number of crossover points",variant:"outlined",type:"number",fullWidth:!0,component:A.b}),"uniform"===a.crossoverType&&i.a.createElement(W.a,{className:e.classes.formItem,name:"crossoverParams.selectionThreshold",label:"selection threshold",variant:"outlined",type:"number",fullWidth:!0,component:A.b}),i.a.createElement(W.a,{className:e.classes.formItem,variant:"outlined",name:"selectionType",component:A.a,fullWidth:!0,input:i.a.createElement(V.a,{name:"Select mutation method",labelWidth:300}),native:!0},i.a.createElement("option",{value:"rouletteWheel"},"Roulette Wheel"),i.a.createElement("option",{value:"stochastic"},"Stochastic universal sampling")),i.a.createElement(W.a,{className:e.classes.formItem,variant:"outlined",name:"resamplingType",component:A.a,fullWidth:!0,input:i.a.createElement(V.a,{name:"Select resampling method",labelWidth:300}),native:!0},i.a.createElement("option",{value:"ageBased"},"Age based resampling"),i.a.createElement("option",{value:"fitnessBased"},"Fitness based resampling")),i.a.createElement(W.a,{className:e.classes.formItem,name:"mutation.mutationRate",label:"Mutation rate",variant:"outlined",type:"number",fullWidth:!0,component:A.b}),i.a.createElement(W.a,{className:e.classes.formItem,name:"numberOfGenerations",label:"Number of generations",variant:"outlined",type:"number",fullWidth:!0,component:A.b}),i.a.createElement(h.a,{variant:"extended",color:"primary",type:"submit"},"set algorithm params"))}}));var t}),J=a(120),$=a(49),q=a(180),H=a(181),L=a(183),Q=a(182),X=a(185),Y=a(184),Z=a(186),_=a(638),ee=a(639),te=a(640),ae=a(641),ne=a(642),ie=Object(v.a)(function(e){return{title:{padding:e.spacing(1)},container:{width:"100%",margin:e.spacing(1)}}})(function(e){var t=e.algorithm.population.populationStatistics,a=t.averageAge,n=t.averageFitness,r=t.fittestIndividualIndex;return i.a.createElement(p.a,{className:e.classes.container},i.a.createElement(g.a,{color:"primary",className:e.classes.title,variant:"h5"},"Statistics"),i.a.createElement(S.a,null),i.a.createElement(_.a,null,i.a.createElement(ee.a,null,i.a.createElement(te.a,null,i.a.createElement(ae.a,null,"Statistical item"),i.a.createElement(ae.a,null,"Value"))),i.a.createElement(ne.a,null,i.a.createElement(te.a,null,i.a.createElement(ae.a,null,"Number of generations"),i.a.createElement(ae.a,null,e.algorithm.generations)),i.a.createElement(te.a,null,i.a.createElement(ae.a,null,"Average age"),i.a.createElement(ae.a,null,a)),i.a.createElement(te.a,null,i.a.createElement(ae.a,null,"Average fitness"),i.a.createElement(ae.a,null,n)),i.a.createElement(te.a,null,i.a.createElement(ae.a,null,"fittest individual index"),i.a.createElement(ae.a,null,r)))))}),re=a(636),se=a(643),le=a(644),oe=(a(600),Object(v.a)(function(e){return{title:{padding:e.spacing(1)},container:{width:"100%",margin:e.spacing(1)},listStyles:{display:"flex"},item:{display:"flex",justifyContent:"center",border:"1px solid ".concat(e.palette.divider)}}})(function(e){return i.a.createElement(p.a,{className:e.classes.container},i.a.createElement(g.a,{color:"primary",className:e.classes.title,variant:"h5"},"Population"),i.a.createElement(S.a,null),i.a.createElement("div",null,i.a.createElement(re.a,{className:"population-list",dense:!0},e.population.getPopulationItems().map(function(t,a){return i.a.createElement(se.a,{key:a},i.a.createElement(le.a,{className:e.classes.item,primary:t.individual.toString()}))}))))}));var ce=Object(v.a)(function(e){return{individualContainer:{paddingTop:e.spacing(2)},individual:{display:"flex",justifyContent:"center"},individualGene:{border:"1px solid ".concat(e.palette.divider),padding:e.spacing(2)},individualInfoContainer:{display:"flex",justifyContent:"center","& *":{margin:e.spacing(1)}}}})(function(e){var t=function(e,t){var a=0,n=0;return e.forEach(function(e,i){if(e){var r=t[i];a+=r.value,n+=r.weight}}),{value:a,weight:n}}(e.fittestIndividual,e.items);return i.a.createElement(p.a,null,i.a.createElement("div",{className:e.classes.individualContainer},i.a.createElement("div",{className:e.classes.individual},e.fittestIndividual.genotype.map(function(t,a){return i.a.createElement("div",{className:e.classes.individualGene,key:a},t?"1":"0")})),i.a.createElement("div",{className:e.classes.individualInfoContainer},i.a.createElement(g.a,{variant:"h6"},"Weight: ".concat(t.weight.toFixed(4))),i.a.createElement(g.a,{variant:"h6"},"Value: ".concat(t.value.toFixed(4))))),i.a.createElement(S.a,null),i.a.createElement("div",null,i.a.createElement(F,{individual:e.fittestIndividual,items:e.items})))}),me=Object(v.a)(function(e){return{container:{display:"flex",justifyContent:"center",marginTop:e.spacing(1),"& *":{margin:e.spacing(1)}}}})(function(e){return i.a.createElement(p.a,{className:e.classes.container},i.a.createElement(h.a,{variant:"extended",color:"primary",onClick:e.onRunClick},e.nextGenerationDisabled?"stop algorithm":"run algorithm"),i.a.createElement(h.a,{onClick:e.onNextGenerationClick,variant:"extended",color:"primary",disabled:e.nextGenerationDisabled},"next generation"))}),ue=a(48),de=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).timer=void 0,n.algorithm=void 0,n.fitnessFunction=function(e){var t=0,a=0;return e.forEach(function(e,i){if(e){var r=n.props.items[i];t+=r.weight,a+=r.value}}),t<=n.props.knapsackParams.capacity?a:0},n.constructParams=function(e){var t,a,i=e.algorithmParams.populationSize,r=e.algorithmParams.crossoverParams,s=r.numberOfCrossoverPoints,l=r.selectionThreshold;switch(e.algorithmParams.crossoverType){case"onePoint":t=new $.OnePointCrossover,a={engine:ue.nativeMath,individualConstructor:$.BinaryIndividual};break;case"nPoints":t=new $.NPointsCrossover,a={engine:ue.nativeMath,individualConstructor:$.BinaryIndividual,numberOfCrossoverPoints:s};break;case"uniform":t=new $.UniformCrossover,a={engine:ue.nativeMath,individualConstructor:$.BinaryIndividual,selectionThreshold:l}}return{populationSize:i,generator:new q.BinaryGenerator,generatorParams:{chance:.3,engine:ue.nativeMath,length:e.items.length},selection:new H.FitnessProportionalSelection,selectionParams:{engine:ue.nativeMath,selectionCount:i,subSelection:"rouletteWheel"===e.algorithmParams.selectionType?new Q.RouletteWheel:new L.StochasticUniversalSamplingSe},crossover:t,crossoverParams:a,mutation:new $.BitwiseMutation,mutationParams:{engine:ue.nativeMath,mutationRate:e.algorithmParams.mutation.mutationRate},replacement:"fitnessBased"===e.algorithmParams.resamplingType?new X.FitnessBased:new Y.AgeBased,replacementParams:{selectionCount:i},fitnessFunction:n.fitnessFunction,terminationCondition:new Z.MaxGenerations(e.algorithmParams.numberOfGenerations)}},n.getItem=function(e){var t=e.getFittestIndividualItem();return t?t.individual.toString():"no individual"},n.nextGeneration=function(){n.algorithm.nextGeneration(),n.setState({algorithm:n.algorithm})},n.onRunClick=function(){n.state.algorithmIsRunning?(clearInterval(n.timer),n.setState({algorithmIsRunning:!1})):(n.timer=setInterval(n.nextGeneration,50),n.setState({algorithmIsRunning:!0}))};var i=n.constructParams(e);return n.algorithm=new J.EvolutionaryAlgorithm(i),n.state={algorithmIsRunning:!1,algorithm:new J.EvolutionaryAlgorithm(i)},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.algorithm.population;return i.a.createElement("div",null,i.a.createElement("div",{className:this.props.classes.infoContainer},i.a.createElement(ie,{algorithm:this.state.algorithm}),i.a.createElement(oe,{population:e})),i.a.createElement(ce,{items:this.props.items,fittestIndividual:e.getFittestIndividualItem().individual}),i.a.createElement("div",null,i.a.createElement(me,{onRunClick:this.onRunClick,onNextGenerationClick:this.nextGeneration,nextGenerationDisabled:this.state.algorithmIsRunning})))}}]),a}(i.a.Component),pe=Object(v.a)(function(e){return{infoContainer:{display:"flex",justifyContent:"space-around"}}})(de),ge=a(293),he=a.n(ge),ve=a(645),fe=Object(u.a)({palette:{primary:{main:"#356759",light:"#F2F5DF",dark:"#38966F"},secondary:{main:"#F15324"},background:{default:"#DEF3E5",paper:"#FEFBE6"},divider:"#38966F"}}),be=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).getDefaultState=function(){return{knapsackParams:E,items:x(),algorithmParams:w,algorithmIsExecuting:!1}},e.state=e.getDefaultState(),e.onAddKnapsackItem=function(t){e.setState(function(e){return{items:e.items.concat(t)}})},e.onDeleteKnapsackItem=function(t){e.setState(function(e){return{items:e.items.filter(function(e,a){return t!==a})}})},e.onKnapsackParamsChange=function(t){return e.setState({knapsackParams:t})},e.isAddItemDisabled=function(){return e.state.items.length>=y.max},e.isDeleteItemDisabled=function(){return e.state.items.length<=y.min},e.onAlgorithmParamsChange=function(t){console.log(t),e.setState({algorithmParams:t})},e.onExecuteAlgorithmPlay=function(){e.state.algorithmIsExecuting?e.setState(function(t){return e.getDefaultState()}):e.setState({algorithmIsExecuting:!0})},e}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement(ve.a,{theme:fe},i.a.createElement(d.a,null),i.a.createElement("div",{className:this.props.classes.container},i.a.createElement(p.a,{className:this.props.classes.title},i.a.createElement("div",{className:this.props.classes.logoContainer},i.a.createElement("img",{className:this.props.classes.logo,src:he.a,alt:"geneticsjs"})),i.a.createElement("div",{className:this.props.classes.logoTitle},i.a.createElement(g.a,{variant:"h6",color:"primary"},"Knapsack problem simulator with genetic algorithms"))),!this.state.algorithmIsExecuting&&i.a.createElement(i.a.Fragment,null,i.a.createElement(K,{items:this.state.items,knapsackParams:this.state.knapsackParams,addDisabled:this.isAddItemDisabled(),deleteDisabled:this.isDeleteItemDisabled(),onAddItem:this.onAddKnapsackItem,onDeleteItem:this.onDeleteKnapsackItem,onKnapsackParamsChange:this.onKnapsackParamsChange}),i.a.createElement(U,{numberOfItems:this.state.items.length,algorithmParams:this.state.algorithmParams,onSubmit:this.onAlgorithmParamsChange})),this.state.algorithmIsExecuting&&i.a.createElement(pe,{knapsackParams:this.state.knapsackParams,algorithmParams:this.state.algorithmParams,items:this.state.items}),i.a.createElement(p.a,{className:this.props.classes.actionButtonContainer},i.a.createElement(h.a,{variant:"extended",color:this.state.algorithmIsExecuting?"secondary":"primary",onClick:this.onExecuteAlgorithmPlay},this.state.algorithmIsExecuting?"Reset":"execute algorithm"))))}}]),a}(i.a.Component),Ee=Object(v.a)(function(e){return{logoContainer:{margin:"auto"},logo:{display:"block",margin:"auto",width:300},logoTitle:{display:"flex",justifyContent:"center"},title:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},container:{maxWidth:1e3,margin:"auto"},knapsackFormContainer:{display:"flex",justifyContent:"space-between",padding:e.spacing(3)},actionButtonContainer:{display:"flex",justifyContent:"center",marginTop:e.spacing(1),padding:e.spacing(1)}}})(be);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[306,1,2]]]);
//# sourceMappingURL=main.46051d94.chunk.js.map